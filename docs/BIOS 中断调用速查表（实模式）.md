# BIOS 中断调用速查表（实模式）

本文系统整理 **x86 实模式下常用 BIOS 中断**，用于学习、实验和长期查阅。内容以 **8086 / DOS / emu8086 / Bootloader** 场景为核心。

> BIOS 中断仅在 **实模式** 或 **虚拟 8086 模式** 下可用，进入保护模式后不可直接使用。

---

## 一、BIOS 中断概览

| 中断号 | 名称              | 主要功能                  |
| ------ | ----------------- | ------------------------- |
| `10h`  | Video Services    | 显示、光标、文本/图形输出 |
| `13h`  | Disk Services     | 磁盘读写（软盘/硬盘）     |
| `15h`  | System Services   | 系统、A20、等待           |
| `16h`  | Keyboard Services | 键盘输入                  |
| `1Ah`  | Time Services     | 时间、RTC                 |
| `12h`  | Memory Size       | 获取常规内存大小          |
| `11h`  | Equipment List    | 硬件配置                  |
| `19h`  | Bootstrap Loader  | 引导加载                  |

---

## 二、INT 10h —— 显示服务（重点）

### 1️⃣ 设置视频模式

```asm
AH = 00h
AL = 模式号
INT 10h
```

| 模式  | 说明                   |
| ----- | ---------------------- |
| `03h` | 80×25 彩色文本模式     |
| `13h` | 320×200 256 色图形模式 |

---

### 2️⃣ TTY 文本输出（最常用）

```asm
AH = 0Eh
AL = 字符
BH = 页号 (通常 0)
BL = 颜色 (文本模式)
INT 10h
```

- 自动移动光标
- 支持 `\n`、滚屏

---

### 3️⃣ 设置光标位置

```asm
AH = 02h
BH = 页号
DH = 行号
DL = 列号
INT 10h
```

---

### 4️⃣ 获取光标位置

```asm
AH = 03h
BH = 页号
INT 10h
; 返回: DH=行, DL=列
```

---

### 5️⃣ 滚屏（清屏本质）

```asm
AH = 06h
AL = 行数 (0=全屏)
BH = 属性
CH = 左上角行
CL = 左上角列
DH = 右下角行
DL = 右下角列
INT 10h
```

---

## 三、INT 16h —— 键盘服务

### 1️⃣ 读取按键（阻塞）

```asm
AH = 00h
INT 16h
; AL = ASCII
; AH = 扫描码
```

---

### 2️⃣ 检查是否有按键（不阻塞）

```asm
AH = 01h
INT 16h
ZF = 1 → 无按键
```

---

## 四、INT 13h —— 磁盘服务（Bootloader 关键）

### 1️⃣ 读取磁盘扇区（CHS）

```asm
AH = 02h
AL = 扇区数
CH = 柱面
CL = 扇区
DH = 磁头
DL = 驱动器
ES:BX = 缓冲区
INT 13h
```

| DL    | 设备     |
| ----- | -------- |
| `00h` | 软盘 A   |
| `80h` | 第一硬盘 |

---

### 2️⃣ 重置磁盘系统

```asm
AH = 00h
INT 13h
```

---

## 五、INT 15h —— 系统服务

### A20 地址线（经典）

```asm
AH = 24h
AL = 01h  ; 开启 A20
INT 15h
```

---

### 等待（延时）

```asm
AH = 86h
CX:DX = 微秒
INT 15h
```

---

## 六、INT 1Ah —— 时间服务

### 获取系统时间（RTC）

```asm
AH = 02h
INT 1Ah
; CH=时 CL=分 DH=秒 (BCD)
```

---

## 七、INT 12h —— 获取常规内存大小

```asm
INT 12h
; AX = 常规内存大小 (KB)
```

通常返回 `640`。

---

## 八、INT 11h —— 获取硬件信息

```asm
INT 11h
; AX = 设备位图
```

---

## 九、INT 19h —— 引导加载

```asm
INT 19h
```

- 重新执行 BIOS 引导流程
- 类似重启（不完全复位）

---

## 十、学习建议（强烈推荐顺序）

1. INT 10h（文本输出）
2. INT 16h（键盘）
3. INT 12h / 11h（硬件认知）
4. INT 13h（Bootloader）
5. INT 15h（A20 / 延时）

---

> 本文档适用于：
>
> - 8086 实模式汇编
> - DOS / emu8086 实验
> - 操作系统引导程序（Bootloader）学习
