# VGA 显存模式总结（实模式）

本文**单独系统性总结 VGA 在实模式（Real Mode）下的显存模式**，重点放在 **显存地址、分辨率、颜色数、实际占用大小以及访问特点**，适合作为学习汇编、图形编程和调试时的速查文档。

---

## 一、VGA 显存基础概念

### 1️⃣ 显存映射位置

| 显存段    | 物理地址范围    | 大小      | 用途         |
| --------- | --------------- | --------- | ------------ |
| **A000h** | A0000h ~ AFFFFh | **64 KB** | 图形模式     |
| **B800h** | B8000h ~ BFFFFh | 32 KB     | 彩色文本模式 |
| **B000h** | B0000h ~ B7FFFh | 32 KB     | 单色文本模式 |

> 实模式下，一个段最大只能映射 **64 KB**，这直接影响了 VGA 模式设计。

---

## 二、文本模式显存（Text Mode）

### 1️⃣ 80×25 彩色文本模式（模式 03h）

- 显存段：**B800h**
- 显示字符数：80 × 25 = 2000
- 每字符占 **2 字节**

```
[ ASCII 字符 ][ 属性 ]
```

#### 显存占用

```
2000 × 2 = 4000 字节 ≈ 4 KB
```

| 项目     | 数值   |
| -------- | ------ |
| 实际使用 | ~4 KB  |
| 剩余空间 | ~28 KB |

📌 剩余空间用于：多页文本、滚屏、兼容设计。

---

### 2️⃣ 单色文本模式

- 显存段：**B000h**
- 布局与彩色文本类似

---

## 三、图形模式显存（Graphics Mode）

### 1️⃣ 模式 13h（320×200 × 256 色）⭐

这是 **最经典、最适合初学者的 VGA 图形模式**。

| 项目     | 数值               |
| -------- | ------------------ |
| 分辨率   | 320 × 200          |
| 颜色数   | 256 色             |
| 每像素   | 1 字节             |
| 显存段   | A000h              |
| 实际占用 | 64,000 B ≈ 62.5 KB |

📌 特点：

- 显存线性
- 像素 = 字节
- 无需 plane 切换

#### 地址计算

```
偏移 = y × 320 + x
```

---

### 2️⃣ 模式 12h（640×480 × 16 色）

| 项目     | 数值              |
| -------- | ----------------- |
| 分辨率   | 640 × 480         |
| 颜色数   | 16 色             |
| 每像素   | 4 bit             |
| 存储方式 | **平面（Plane）** |

#### 显存占用

```
640 × 480 × 4 bit = 153,600 B ≈ 150 KB
```

📌 关键点：

- 超过 64 KB
- 分布在 **4 个 plane** 中
- 访问时需切换 plane

---

### 3️⃣ 其他常见 VGA 图形模式（速览）

| 模式 | 分辨率  | 颜色  | 特点     |
| ---- | ------- | ----- | -------- |
| 0Dh  | 320×200 | 16 色 | 平面存储 |
| 0Eh  | 640×200 | 16 色 | 平面存储 |
| 10h  | 640×350 | 16 色 | 平面存储 |
| 11h  | 640×480 | 2 色  | 位图     |

---

## 四、为什么 VGA 需要 Plane（平面）机制？

### 原因

- 实模式：单段最多 **64 KB**
- 高分辨率显存需求 > 64 KB

### 解决方案

- 将显存拆分为多个 plane
- 每次通过寄存器选择一个 plane 访问

📌 这是 VGA 硬件层面的分页思想。

---

## 五、调试与编程速查

### 常用显存段

| 用途     | 段地址 |
| -------- | ------ |
| 图形模式 | A000h  |
| 彩色文本 | B800h  |
| 单色文本 | B000h  |

---

### 模式切换（BIOS）

```asm
mov ax, 0013h   ; 模式 13h
int 10h
```

---

### 模式 13h 写像素示例

```asm
mov ax, 0A000h
mov es, ax
mov di, 10*320+10
mov al, 15
mov [es:di], al
```

---

## 六、学习建议（非常重要）

1️⃣ **先掌握模式 13h**（线性显存）
2️⃣ 再理解 plane / bank 概念
3️⃣ 调试时同时看：

- ES:DI
- 显存窗口

---

> 本文适用于：8086 汇编、DOS 图形编程、VGA 原理学习与调试。
