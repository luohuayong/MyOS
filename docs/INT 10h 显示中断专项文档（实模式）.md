# INT 10h 显示中断专项文档（实模式）

本文专门系统整理 **BIOS INT 10h（Video Services）**，用于 **8086 实模式 / DOS / emu8086 / Bootloader** 学习与长期查阅。

INT 10h 是实模式下**最重要、最常用**的 BIOS 中断之一，负责所有基础显示功能。

---

## 一、INT 10h 总览

| AH 功能号 | 功能说明                   |
| --------- | -------------------------- |
| `00h`     | 设置视频模式               |
| `01h`     | 设置光标形状               |
| `02h`     | 设置光标位置               |
| `03h`     | 获取光标位置               |
| `06h`     | 向上滚屏 / 清屏            |
| `07h`     | 向下滚屏                   |
| `09h`     | 写字符和属性（不移动光标） |
| `0Ah`     | 写字符（不写属性）         |
| `0Eh`     | TTY 输出（最常用）         |

---

## 二、AH=00h —— 设置视频模式

```asm
mov ah, 00h
mov al, 03h     ; 80×25 彩色文本模式
int 10h
```

| 模式  | 说明                    |
| ----- | ----------------------- |
| `03h` | 80×25 彩色文本（B800h） |
| `07h` | 80×25 单色文本（B000h） |
| `13h` | 320×200，256 色图形     |

> 设置模式会清屏并重置光标。

---

## 三、AH=0Eh —— TTY 字符输出（★★★★★）

```asm
mov ah, 0Eh
mov al, 'A'
mov bh, 0       ; 页号
mov bl, 07h     ; 属性（文本模式）
int 10h
```

### 特点

- 自动移动光标
- 自动滚屏
- 支持 `\r`、`\n`
- 最适合调试输出

---

## 四、AH=02h —— 设置光标位置

```asm
mov ah, 02h
mov bh, 0
mov dh, 10      ; 行
mov dl, 20      ; 列
int 10h
```

---

## 五、AH=03h —— 获取光标位置

```asm
mov ah, 03h
mov bh, 0
int 10h
; DH = 行号
; DL = 列号
```

---

## 六、AH=06h —— 向上滚屏 / 清屏

```asm
mov ah, 06h
mov al, 0       ; 0 = 整屏
mov bh, 07h     ; 填充属性
mov ch, 0
mov cl, 0
mov dh, 24
mov dl, 79
int 10h
```

> 这是 **标准清屏方式**。

---

## 七、AH=09h —— 写字符 + 属性（不移动光标）

```asm
mov ah, 09h
mov al, 'A'
mov bh, 0
mov bl, 1Eh     ; 黄字蓝底
mov cx, 5       ; 重复次数
int 10h
```

- 不改变光标位置
- 常用于填充区域

---

## 八、AH=0Ah —— 写字符（只写字符）

```asm
mov ah, 0Ah
mov al, '*'
mov bh, 0
mov cx, 10
int 10h
```

- 只写字符，不改属性

---

## 九、光标形状（AH=01h）

```asm
mov ah, 01h
mov ch, 6       ; 起始扫描线
mov cl, 7       ; 结束扫描线
int 10h
```

> 设置为不可见可隐藏光标。

---

## 十、BIOS 输出 vs 直接写显存

| 方式    | 优点                 | 缺点           |
| ------- | -------------------- | -------------- |
| INT 10h | 简单、安全、自动滚屏 | 慢、依赖 BIOS  |
| 写显存  | 快、完全可控         | 需自行维护光标 |

---

## 十一、典型使用场景

- Bootloader 提示信息
- 内核早期调试输出
- DOS 程序文本界面
- emu8086 学习实验

---

## 十二、学习路线建议

1. AH=0Eh（TTY 输出）
2. AH=02h / 03h（光标）
3. AH=06h（清屏 / 滚屏）
4. AH=09h / 0Ah（批量写字符）
5. 再转向 **直接写显存**

---

> 本文档是 **BIOS 显示编程的核心参考**，建议与 VGA 模式 03h 显存文档配合学习。
